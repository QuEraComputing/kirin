---
source: crates/kirin-derive-core/src/instruction/tests.rs
expression: "check::<DeriveHasArguments>(&input)"
---
#[automatically_derived]
impl ::kirin_ir::HasArguments for TestInst {
    fn arguments(&self) -> impl Iterator<Item = &::kirin_ir::SSAValue> {
        match self {
            Self::WrapA(wrapped_instruction) => {
                <wrapped_instruction as ::kirin_ir::HasArguments>::arguments()
            }
            Self::WrapB(wrapped_instruction) => {
                <wrapped_instruction as ::kirin_ir::HasArguments>::arguments()
            }
            _ => __KirinArgumentsIter {
                parent: self,
                index: 0,
            },
        }
    }
}
#[automatically_derived]
pub struct __KirinArgumentsIter<'__kirin_ir_iter_a> {
    parent: &'__kirin_ir_iter_a TestInst,
    index: usize,
}
#[automatically_derived]
impl<'__kirin_ir_iter_a> Iterator for __KirinArgumentsIter<'__kirin_ir_iter_a> {
    type Item = &'__kirin_ir_iter_a ::kirin_ir::SSAValue;
    fn next(&mut self) -> Option<Self::Item> {
        match self.parent {
            TestInst::Regular { arg, .. } => match self.index {
                0 => {
                    self.index += 1;
                    Some(arg)
                }
                _ => None,
            },
            _ => None,
        }
    }
}
