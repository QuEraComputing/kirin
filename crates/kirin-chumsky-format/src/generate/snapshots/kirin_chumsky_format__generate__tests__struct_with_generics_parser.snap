---
source: crates/kirin-chumsky-format/src/generate/tests.rs
expression: parser
---
impl<'tokens, 'src: 'tokens, T: TypeLattice> ::kirin::parsers::HasDialectParser<'tokens, 'src>
    for GenericReturn<T>
where
    T: ::kirin::parsers::HasParser<'tokens, 'src> + 'tokens,
{
    type Output<__TypeOutput, __LanguageOutput>
        = GenericReturnAST<'tokens, 'src, T, __TypeOutput, __LanguageOutput>
    where
        __TypeOutput: Clone + PartialEq + 'tokens,
        __LanguageOutput: Clone + PartialEq + 'tokens;
    #[inline]
    fn recursive_parser<I, __TypeOutput, __LanguageOutput>(
        language: ::kirin::parsers::RecursiveParser<'tokens, 'src, I, __LanguageOutput>,
    ) -> ::kirin::parsers::BoxedParser<'tokens, 'src, I, Self::Output<__TypeOutput, __LanguageOutput>>
    where
        I: ::kirin::parsers::TokenInput<'tokens, 'src>,
        __TypeOutput: Clone + PartialEq + 'tokens,
        __LanguageOutput: Clone + PartialEq + 'tokens,
    {
        use kirin::parsers::chumsky::prelude::*;
        { use :: kirin :: parsers :: Token ; :: kirin :: parsers :: chumsky :: prelude :: just (Token :: Identifier ("return")) . ignore_then (:: kirin :: parsers :: ssa_value :: < _ , T > ()) . map (| field_0 | -> GenericReturnAST < 'tokens , 'src , T , __TypeOutput , __LanguageOutput > { GenericReturnAST (field_0 , :: core :: marker :: PhantomData :: < fn () -> (& 'tokens () , & 'src () , T , __TypeOutput , __LanguageOutput) >) }) } . boxed ()
    }
}
impl<'tokens, 'src: 'tokens, T: TypeLattice> ::kirin::parsers::HasParser<'tokens, 'src>
    for GenericReturn<T>
where
    T: ::kirin::parsers::HasParser<'tokens, 'src> + 'tokens,
{
    type Output = GenericReturnASTSelf<
        'tokens,
        'src,
        T,
        <T as ::kirin::parsers::HasParser<'tokens, 'src>>::Output,
    >;
    fn parser<I>() -> ::kirin::parsers::BoxedParser<'tokens, 'src, I, Self::Output>
    where
        I: ::kirin::parsers::TokenInput<'tokens, 'src>,
    {
        use kirin::parsers::chumsky::prelude::*;
        :: kirin :: parsers :: chumsky :: recursive :: recursive (| language | { < GenericReturn < T > as :: kirin :: parsers :: HasDialectParser < 'tokens , 'src , >> :: recursive_parser :: < I , < T as :: kirin :: parsers :: HasParser < 'tokens , 'src >> :: Output , Self :: Output > (language) . map (| inner | GenericReturnASTSelf :: new (inner)) }) . boxed ()
    }
}
