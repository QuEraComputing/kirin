<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Kirin - Kernel Intermediate Representation Infrastructure"><link href=https://special-broccoli-revrkk1.pages.github.io/dev/def/ rel=canonical><link href=../install/ rel=prev><link href=../101/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.44"><title>Declarations - kirin-toolchain</title><link rel=stylesheet href=../assets/stylesheets/main.0253249f.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#understanding-kirin-ir-declarations class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=kirin-toolchain class="md-header__button md-logo" aria-label=kirin-toolchain data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> kirin-toolchain </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Declarations </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/QuEraComputing/kirin title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> kirin-toolchain </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../blog/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../reference/kirin/prelude/ class=md-tabs__link> API Reference </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=kirin-toolchain class="md-nav__button md-logo" aria-label=kirin-toolchain data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> kirin-toolchain </label> <div class=md-nav__source> <a href=https://github.com/QuEraComputing/kirin title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> kirin-toolchain </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Declarations </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Declarations </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ssa-values class=md-nav__link> <span class=md-ellipsis> SSA Values </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SSAValue </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.name_pattern class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name_pattern </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.uses class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uses </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.add_use class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_use </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.remove_use class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_use </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.replace_by class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_by </span> </a> </li> <li class=md-nav__item> <a href=#dialects class=md-nav__link> <span class=md-ellipsis> Dialects </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Dialect class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Dialect </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Dialect.register class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register </span> </a> </li> <li class=md-nav__item> <a href=#statements class=md-nav__link> <span class=md-ellipsis> Statements </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Statement </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.next_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;next_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_block class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_block </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_region class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_region </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.prev_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;prev_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.regions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;regions </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.results class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;results </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.expect_one_result class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;expect_one_result </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.from_python_call class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_python_call </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.from_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.get_attr_or_prop class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_attr_or_prop </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.get_trait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_trait </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.has_trait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has_trait </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.insert_after class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;insert_after </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.insert_before class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;insert_before </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.replace_by class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_by </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> <li class=md-nav__item> <a href=#attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Attribute class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Attribute </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.TypeAttribute class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TypeAttribute </span> </a> </li> <li class=md-nav__item> <a href=#traits class=md-nav__link> <span class=md-ellipsis> Traits </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.StmtTrait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StmtTrait </span> </a> </li> <li class=md-nav__item> <a href=#blocks class=md-nav__link> <span class=md-ellipsis> Blocks </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Block </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.first_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;first_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.last_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;last_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.parent_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.stmts class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;stmts </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> <li class=md-nav__item> <a href=#regions class=md-nav__link> <span class=md-ellipsis> Regions </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Region </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.blocks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;blocks </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.region_index class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region_index </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.__getitem__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__ </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.clone class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clone </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../101/ class=md-nav__link> <span class=md-ellipsis> Compiler 101 </span> </a> </li> <li class=md-nav__item> <a href=../contrib/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../blog/ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../blog/archive/2024/ class=md-nav__link> <span class=md-ellipsis> 2024 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/prelude/ class=md-nav__link> <span class=md-ellipsis> Prelude </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/ir/ class="md-nav__link "> <span class=md-ellipsis> IR </span> </a> <label class="md-nav__link " for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> IR </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/ir/nodes/ class="md-nav__link "> <span class=md-ellipsis> Nodes </span> </a> <label class="md-nav__link " for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Nodes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/ir/nodes/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/nodes/block/ class=md-nav__link> <span class=md-ellipsis> Block </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/nodes/region/ class=md-nav__link> <span class=md-ellipsis> Region </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/nodes/stmt/ class=md-nav__link> <span class=md-ellipsis> Stmt </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/nodes/view/ class=md-nav__link> <span class=md-ellipsis> View </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/ssa/ class=md-nav__link> <span class=md-ellipsis> SSA values </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/attrs/ class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/traits/ class=md-nav__link> <span class=md-ellipsis> Traits </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/dialect/ class=md-nav__link> <span class=md-ellipsis> Dialect </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/group/ class=md-nav__link> <span class=md-ellipsis> Dialect Group </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/ir/method/ class=md-nav__link> <span class=md-ellipsis> Method </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/interp/ class="md-nav__link "> <span class=md-ellipsis> Interpreter </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Interpreter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/interp/abstract/ class=md-nav__link> <span class=md-ellipsis> Abstract </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/concrete/ class=md-nav__link> <span class=md-ellipsis> Concrete </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/dialect/ class=md-nav__link> <span class=md-ellipsis> Dialect </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/frame/ class=md-nav__link> <span class=md-ellipsis> Frame </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/impl/ class=md-nav__link> <span class=md-ellipsis> Impl </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/state/ class=md-nav__link> <span class=md-ellipsis> State </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/interp/value/ class=md-nav__link> <span class=md-ellipsis> Value </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/lowering/ class="md-nav__link "> <span class=md-ellipsis> Python Lowering </span> </a> <label class="md-nav__link " for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Python Lowering </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/lowering/core/ class=md-nav__link> <span class=md-ellipsis> Core </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/lowering/dialect/ class=md-nav__link> <span class=md-ellipsis> Dialect </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/lowering/frame/ class=md-nav__link> <span class=md-ellipsis> Frame </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/lowering/result/ class=md-nav__link> <span class=md-ellipsis> Result </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/lowering/state/ class=md-nav__link> <span class=md-ellipsis> State </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/lowering/stream/ class=md-nav__link> <span class=md-ellipsis> Stream </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/analysis/ class="md-nav__link "> <span class=md-ellipsis> Analysis </span> </a> <label class="md-nav__link " for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Analysis </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5_2> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/analysis/dataflow/ class="md-nav__link "> <span class=md-ellipsis> Dataflow </span> </a> <label class="md-nav__link " for=__nav_3_5_2 id=__nav_3_5_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5_2> <span class="md-nav__icon md-icon"></span> Dataflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/analysis/dataflow/constprop/ class=md-nav__link> <span class=md-ellipsis> Constprop </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/analysis/dataflow/forward/ class=md-nav__link> <span class=md-ellipsis> Forward </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/analysis/dataflow/typeinfer/ class=md-nav__link> <span class=md-ellipsis> Typeinfer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/kirin/analysis/cfg/ class=md-nav__link> <span class=md-ellipsis> CFG </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Rewrite </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Rewrite </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6_1> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/rewrite/ class="md-nav__link "> <span class=md-ellipsis> Generic </span> </a> <label class="md-nav__link " for=__nav_3_6_1 id=__nav_3_6_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6_1> <span class="md-nav__icon md-icon"></span> Generic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/rewrite/abc/ class=md-nav__link> <span class=md-ellipsis> Abc </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rewrite/chain/ class=md-nav__link> <span class=md-ellipsis> Chain </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rewrite/fixpoint/ class=md-nav__link> <span class=md-ellipsis> Fixpoint </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rewrite/result/ class=md-nav__link> <span class=md-ellipsis> Result </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rewrite/walk/ class=md-nav__link> <span class=md-ellipsis> Walk </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6_2> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/rules/ class="md-nav__link "> <span class=md-ellipsis> Rules </span> </a> <label class="md-nav__link " for=__nav_3_6_2 id=__nav_3_6_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> Rules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/rules/alias/ class=md-nav__link> <span class=md-ellipsis> Alias </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/apply_type/ class=md-nav__link> <span class=md-ellipsis> Apply type </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/call2invoke/ class=md-nav__link> <span class=md-ellipsis> Call2invoke </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/cfg_compactify/ class=md-nav__link> <span class=md-ellipsis> Cfg compactify </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/cse/ class=md-nav__link> <span class=md-ellipsis> Cse </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/dce/ class=md-nav__link> <span class=md-ellipsis> Dce </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/fold/ class=md-nav__link> <span class=md-ellipsis> Fold </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/getfield/ class=md-nav__link> <span class=md-ellipsis> Getfield </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/getitem/ class=md-nav__link> <span class=md-ellipsis> Getitem </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/rules/inline/ class=md-nav__link> <span class=md-ellipsis> Inline </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6_2_12> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/rules/aggressive/ class="md-nav__link "> <span class=md-ellipsis> Aggressive </span> </a> <label class="md-nav__link " for=__nav_3_6_2_12 id=__nav_3_6_2_12_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_6_2_12_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6_2_12> <span class="md-nav__icon md-icon"></span> Aggressive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/rules/aggressive/fold/ class=md-nav__link> <span class=md-ellipsis> Fold </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/passes/ class="md-nav__link "> <span class=md-ellipsis> Method Pass </span> </a> <label class="md-nav__link " for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Method Pass </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/passes/abc/ class=md-nav__link> <span class=md-ellipsis> Abc </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/passes/fold/ class=md-nav__link> <span class=md-ellipsis> Fold </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/passes/inline/ class=md-nav__link> <span class=md-ellipsis> Inline </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/passes/typeinfer/ class=md-nav__link> <span class=md-ellipsis> Typeinfer </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7_6> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/passes/aggressive/ class="md-nav__link "> <span class=md-ellipsis> Aggressive </span> </a> <label class="md-nav__link " for=__nav_3_7_6 id=__nav_3_7_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7_6> <span class="md-nav__icon md-icon"></span> Aggressive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/passes/aggressive/fold/ class=md-nav__link> <span class=md-ellipsis> Fold </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/codegen/ class="md-nav__link "> <span class=md-ellipsis> Code Generation </span> </a> <label class="md-nav__link " for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Code Generation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/codegen/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/codegen/dialect/ class=md-nav__link> <span class=md-ellipsis> Dialect </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/codegen/dict/ class=md-nav__link> <span class=md-ellipsis> Dict </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/codegen/impl/ class=md-nav__link> <span class=md-ellipsis> Impl </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/codegen/ssa/ class=md-nav__link> <span class=md-ellipsis> Ssa </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/print/ class="md-nav__link "> <span class=md-ellipsis> Pretty Printing </span> </a> <label class="md-nav__link " for=__nav_3_9 id=__nav_3_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Pretty Printing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/print/printable/ class=md-nav__link> <span class=md-ellipsis> Printable </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/print/printer/ class=md-nav__link> <span class=md-ellipsis> Printer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_10> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/decl/ class="md-nav__link "> <span class=md-ellipsis> IR declaration </span> </a> <label class="md-nav__link " for=__nav_3_10 id=__nav_3_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_10_label aria-expanded=false> <label class=md-nav__title for=__nav_3_10> <span class="md-nav__icon md-icon"></span> IR declaration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/decl/base/ class=md-nav__link> <span class=md-ellipsis> Base </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/camel2snake/ class=md-nav__link> <span class=md-ellipsis> Camel2snake </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/info/ class=md-nav__link> <span class=md-ellipsis> Info </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/scan_fields/ class=md-nav__link> <span class=md-ellipsis> Scan fields </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/verify/ class=md-nav__link> <span class=md-ellipsis> Verify </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_10_7> <div class="md-nav__link md-nav__container"> <a href=../reference/kirin/decl/emit/ class="md-nav__link "> <span class=md-ellipsis> Emit </span> </a> <label class="md-nav__link " for=__nav_3_10_7 id=__nav_3_10_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_10_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_10_7> <span class="md-nav__icon md-icon"></span> Emit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/dialect/ class=md-nav__link> <span class=md-ellipsis> Dialect </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/from_python_call/ class=md-nav__link> <span class=md-ellipsis> From python call </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/init/ class=md-nav__link> <span class=md-ellipsis> Init </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/name/ class=md-nav__link> <span class=md-ellipsis> Name </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/property/ class=md-nav__link> <span class=md-ellipsis> Property </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/repr/ class=md-nav__link> <span class=md-ellipsis> Repr </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/traits/ class=md-nav__link> <span class=md-ellipsis> Traits </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/typecheck/ class=md-nav__link> <span class=md-ellipsis> Typecheck </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/decl/emit/verify/ class=md-nav__link> <span class=md-ellipsis> Verify </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../reference/kirin/exceptions/ class=md-nav__link> <span class=md-ellipsis> Exceptions </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_12> <label class=md-nav__link for=__nav_3_12 id=__nav_3_12_label tabindex=0> <span class=md-ellipsis> Data Structures </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_12_label aria-expanded=false> <label class=md-nav__title for=__nav_3_12> <span class="md-nav__icon md-icon"></span> Data Structures </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reference/kirin/lattice/ class=md-nav__link> <span class=md-ellipsis> Lattice </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/graph/ class=md-nav__link> <span class=md-ellipsis> Graph </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/idtable/ class=md-nav__link> <span class=md-ellipsis> IdTable </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/source/ class=md-nav__link> <span class=md-ellipsis> Source </span> </a> </li> <li class=md-nav__item> <a href=../reference/kirin/worklist/ class=md-nav__link> <span class=md-ellipsis> WorkList </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#ssa-values class=md-nav__link> <span class=md-ellipsis> SSA Values </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SSAValue </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.name_pattern class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name_pattern </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.uses class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uses </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.add_use class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;add_use </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.remove_use class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;remove_use </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.SSAValue.replace_by class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_by </span> </a> </li> <li class=md-nav__item> <a href=#dialects class=md-nav__link> <span class=md-ellipsis> Dialects </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Dialect class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Dialect </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Dialect.register class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;register </span> </a> </li> <li class=md-nav__item> <a href=#statements class=md-nav__link> <span class=md-ellipsis> Statements </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Statement </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.next_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;next_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_block class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_block </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_region class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_region </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.parent_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.prev_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;prev_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.regions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;regions </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.results class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;results </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.expect_one_result class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;expect_one_result </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.from_python_call class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_python_call </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.from_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.get_attr_or_prop class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_attr_or_prop </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.get_trait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_trait </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.has_trait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;has_trait </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.insert_after class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;insert_after </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.insert_before class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;insert_before </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.replace_by class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;replace_by </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Statement.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> <li class=md-nav__item> <a href=#attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Attribute class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Attribute </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.TypeAttribute class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TypeAttribute </span> </a> </li> <li class=md-nav__item> <a href=#traits class=md-nav__link> <span class=md-ellipsis> Traits </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.StmtTrait class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StmtTrait </span> </a> </li> <li class=md-nav__item> <a href=#blocks class=md-nav__link> <span class=md-ellipsis> Blocks </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Block </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.first_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;first_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.last_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;last_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.parent_stmt class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_stmt </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.stmts class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;stmts </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Block.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> <li class=md-nav__item> <a href=#regions class=md-nav__link> <span class=md-ellipsis> Regions </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Region </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.blocks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;blocks </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.parent_node class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parent_node </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.region_index class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;region_index </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.__getitem__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__ </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.clone class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clone </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.delete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.detach class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detach </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.drop_all_references class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;drop_all_references </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.is_structurally_equal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_structurally_equal </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.typecheck class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;typecheck </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.verify class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;verify </span> </a> </li> <li class=md-nav__item> <a href=#kirin.ir.Region.walk class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;walk </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/QuEraComputing/kirin/edit/main/docs/def.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/QuEraComputing/kirin/raw/main/docs/def.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=understanding-kirin-ir-declarations>Understanding Kirin IR Declarations</h1> <p>In this section, we will learn about the terminology used in Kirin IR. This will help you understand the structure of the IR and how to write your own compiler using Kirin.</p> <h2 id=ssa-values>SSA Values</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.SSAValue></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><span title="abc.ABC">ABC</span></code>, <code><a class="autorefs autorefs-internal" title="kirin.print.Printable" href="../reference/kirin/print/printable/#kirin.print.printable.Printable">Printable</a></code></p> <p>Base class for all SSA values in the IR.</p> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.SSAValue.name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>The name of this SSA value.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.SSAValue.name_pattern class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">name_pattern</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>name_pattern</span><span class=p>:</span> <span class=n>Pattern</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=nb>compile</span><span class=p>(</span>
    <span class=s2>&quot;([A-Za-z_$.-][</span><span class=se>\\</span><span class=s2>w$.-]*)&quot;</span>
<span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>The pattern that the name of this SSA value must match.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.SSAValue.type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nb>type</span><span class=p>:</span> <span class=n>TypeAttribute</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span>
    <span class=n>default_factory</span><span class=o>=</span><span class=n>AnyType</span><span class=p>,</span> <span class=n>init</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=nb>repr</span><span class=o>=</span><span class=kc>True</span>
<span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>The type of this SSA value.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.SSAValue.uses class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">uses</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>uses</span><span class=p>:</span> <span class=nb>set</span><span class=p>[</span><span class=n>Use</span><span class=p>]</span> <span class=o>=</span> <span class=n>field</span><span class=p>(</span>
    <span class=n>init</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>default_factory</span><span class=o>=</span><span class=nb>set</span><span class=p>,</span> <span class=nb>repr</span><span class=o>=</span><span class=kc>False</span>
<span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>The uses of this SSA value.</p> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.SSAValue.add_use class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">add_use</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>add_use</span><span class=p>(</span><span class=n>use</span><span class=p>:</span> <span class=n>Use</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span>
</code></pre></div> <div class="doc doc-contents "> <p>Add a use to this SSA value.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/ssa.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>add_use</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>use</span><span class=p>:</span> <span class=n>Use</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add a use to this SSA value.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>use</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.SSAValue.delete class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>delete</span><span class=p>(</span><span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Delete this SSA value. If <code>safe</code> is <code>True</code>, raise an error if there are uses.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/ssa.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span>
<span class=normal>82</span>
<span class=normal>83</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Delete this SSA value. If `safe` is `True`, raise an error if there are uses.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>safe</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Cannot delete SSA value with uses&quot;</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>replace_by</span><span class=p>(</span><span class=n>DeletedSSAValue</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.SSAValue.remove_use class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">remove_use</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>remove_use</span><span class=p>(</span><span class=n>use</span><span class=p>:</span> <span class=n>Use</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove a use from this SSA value.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/ssa.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>remove_use</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>use</span><span class=p>:</span> <span class=n>Use</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove a use from this SSA value.&quot;&quot;&quot;</span>
    <span class=c1># print(use)</span>
    <span class=c1># assert use in self.uses, &quot;Use not found&quot;</span>
    <span class=k>if</span> <span class=n>use</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>use</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.SSAValue.replace_by class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">replace_by</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>replace_by</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n>SSAValue</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Replace this SSA value with another SSA value. Update all uses.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/ssa.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>replace_by</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=n>SSAValue</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Replace this SSA value with another SSA value. Update all uses.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>use</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=o>.</span><span class=n>copy</span><span class=p>():</span>
        <span class=n>use</span><span class=o>.</span><span class=n>stmt</span><span class=o>.</span><span class=n>args</span><span class=p>[</span><span class=n>use</span><span class=o>.</span><span class=n>index</span><span class=p>]</span> <span class=o>=</span> <span class=n>other</span>

    <span class=k>if</span> <span class=n>other</span><span class=o>.</span><span class=n>name</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>other</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span>

    <span class=k>assert</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>uses</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&quot;Uses not empty&quot;</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=dialects>Dialects</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.Dialect></a> <div class="doc doc-contents first"> <p>Dialect is a collection of statements, attributes, interpreters, lowerings, and codegen.</p> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Dialect.register class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">register</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>register</span><span class=p>(</span><span class=n>node</span><span class=p>:</span> <span class=nb>type</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>register is a decorator to register a node to the dialect.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code>type | None</code> </td> <td> <div class=doc-md-description> <p>The node to register. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>key</code> </td> <td> <code>str | None</code> </td> <td> <div class=doc-md-description> <p>The key to register the node to. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the node is not a subclass of Statement, Attribute, DialectInterpreter, FromPythonAST, or DialectEmit.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/dialect.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@dataclass_transform</span><span class=p>()</span>
<span class=k>def</span> <span class=nf>register</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>node</span><span class=p>:</span> <span class=nb>type</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;register is a decorator to register a node to the dialect.</span>

<span class=sd>    Args:</span>
<span class=sd>        node (type | None): The node to register. Defaults to None.</span>
<span class=sd>        key (str | None): The key to register the node to. Defaults to None.</span>

<span class=sd>    Raises:</span>
<span class=sd>        ValueError: If the node is not a subclass of Statement, Attribute, DialectInterpreter, FromPythonAST, or DialectEmit.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span> <span class=nn>kirin.codegen.dialect</span> <span class=kn>import</span> <span class=n>DialectEmit</span>
    <span class=kn>from</span> <span class=nn>kirin.interp.dialect</span> <span class=kn>import</span> <span class=n>DialectInterpreter</span>
    <span class=kn>from</span> <span class=nn>kirin.lowering.dialect</span> <span class=kn>import</span> <span class=n>FromPythonAST</span>

    <span class=k>if</span> <span class=n>key</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>key</span> <span class=o>=</span> <span class=s2>&quot;main&quot;</span>

    <span class=k>def</span> <span class=nf>wrapper</span><span class=p>(</span><span class=n>node</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>T</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>type</span><span class=p>[</span><span class=n>T</span><span class=p>]:</span>
        <span class=k>if</span> <span class=nb>issubclass</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>Statement</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
        <span class=k>elif</span> <span class=nb>issubclass</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>Attribute</span><span class=p>):</span>
            <span class=k>assert</span> <span class=p>(</span>
                <span class=n>Attribute</span> <span class=ow>in</span> <span class=n>node</span><span class=o>.</span><span class=vm>__mro__</span>
            <span class=p>),</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> is not a subclass of Attribute&quot;</span>
            <span class=nb>setattr</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=s2>&quot;dialect&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
            <span class=k>assert</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>),</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> does not have a name attribute&quot;</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>attrs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
        <span class=k>elif</span> <span class=nb>issubclass</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>DialectInterpreter</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>interps</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Cannot register </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> to Dialect, key </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> exists&quot;</span>
                <span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>interps</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>node</span><span class=p>()</span>
        <span class=k>elif</span> <span class=nb>issubclass</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>FromPythonAST</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>lowering</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Cannot register </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> to Dialect, key </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> exists&quot;</span>
                <span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>lowering</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>node</span><span class=p>()</span>
        <span class=k>elif</span> <span class=nb>issubclass</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>DialectEmit</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>codegen</span><span class=p>:</span>
                <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;Cannot register </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> to Dialect, key </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> exists&quot;</span>
                <span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>codegen</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>node</span><span class=p>()</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot register </span><span class=si>{</span><span class=n>node</span><span class=si>}</span><span class=s2> to Dialect&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>node</span>

    <span class=k>if</span> <span class=n>node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>wrapper</span>

    <span class=k>return</span> <span class=n>wrapper</span><span class=p>(</span><span class=n>node</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=statements>Statements</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.Statement></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a>[&#39;Block&#39;]</code></p> <p>The Statment is an instruction in the IR</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>args</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>SSAValue</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>regions</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>Region</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>successors</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>Block</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>attributes</span><span class=p>:</span> <span class=n>Mapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Attribute</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span>
    <span class=n>properties</span><span class=p>:</span> <span class=n>Mapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Attribute</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span>
    <span class=n>results</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>ResultValue</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>result_types</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>TypeAttribute</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>args_slice</span><span class=p>:</span> <span class=n>Mapping</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>slice</span><span class=p>]</span> <span class=o>=</span> <span class=p>{},</span>
    <span class=n>source</span><span class=p>:</span> <span class=n>SourceInfo</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize the Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        arsg (Sequence[SSAValue], optional): The arguments of the Statement. Defaults to ().</span>
<span class=sd>        regions (Sequence[Region], optional): The regions where the Statement belong to. Defaults to ().</span>
<span class=sd>        successors (Sequence[Block], optional): The successors of the Statement. Defaults to ().</span>
<span class=sd>        attributes (Mapping[str, Attribute], optional): The attributes of the Statement. Defaults to {}.</span>
<span class=sd>        results (Sequence[ResultValue], optional): The result values of the Statement. Defaults to ().</span>
<span class=sd>        result_types (Sequence[TypeAttribute], optional): The result types of the Statement. Defaults to ().</span>
<span class=sd>        args_slice (Mapping[str, int | slice], optional): The arguments slice of the Statement. Defaults to {}.</span>
<span class=sd>        source (SourceInfo | None, optional): The source information of the Statement for debugging/stacktracing. Defaults to None.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_args</span> <span class=o>=</span> <span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_regions</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_name_args_slice</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>args_slice</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>source</span> <span class=o>=</span> <span class=n>source</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=n>args</span>

    <span class=k>if</span> <span class=n>results</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>
        <span class=k>assert</span> <span class=p>(</span>
            <span class=nb>len</span><span class=p>(</span><span class=n>result_types</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>
        <span class=p>),</span> <span class=s2>&quot;expect either results or result_types specified, got both&quot;</span>

    <span class=k>if</span> <span class=n>result_types</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_results</span> <span class=o>=</span> <span class=p>[</span>
            <span class=n>ResultValue</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=nb>type</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>result_types</span><span class=p>)</span>
        <span class=p>]</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>results</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>result_types</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_results</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>results</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>successors</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>successors</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>properties</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>properties</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>attributes</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>attributes</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>regions</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>regions</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>__post_init__</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>args</span><span class=p>:</span> <span class=n>ArgumentList</span> <span class=o>=</span> <span class=n>args</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the arguments of the Statement.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ArgumentList</code></td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.ArgumentList" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.ArgumentList">ArgumentList</a></code> </td> <td> <div class=doc-md-description> <p>The arguments View of the Statement.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.next_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">next_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>next_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the next statement.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.parent_block class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_block</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_block</span><span class=p>:</span> <span class=n>Block</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the parent Block.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.Block" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.Block">Block</a> | None</code> </td> <td> <div class=doc-md-description> <p>Block | None: The parent Block.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.parent_node class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_node</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_node</span><span class=p>:</span> <span class=n>Block</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the parent node.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.Block" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.Block">Block</a> | None</code> </td> <td> <div class=doc-md-description> <p>Block | None: The parent node.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.parent_region class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_region</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_region</span><span class=p>:</span> <span class=n>Region</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the parent Region. Returns: Region | None: The parent Region.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.parent_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the parent statement.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a> | None</code> </td> <td> <div class=doc-md-description> <p>Statement | None: The parent statement.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.prev_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">prev_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>prev_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the previous statement.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.regions class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">regions</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>regions</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Region</span><span class=p>]</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>regions</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get a list of regions of the Statement.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>list[<a class="autorefs autorefs-internal" title="kirin.ir.nodes.region.Region" href="../reference/kirin/ir/nodes/region/#kirin.ir.nodes.region.Region">Region</a>]</code> </td> <td> <div class=doc-md-description> <p>list[Region]: The list of regions of the Statement.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Statement.results class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">results</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>results</span><span class=p>:</span> <span class=n>ResultList</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the result values of the Statement.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ResultList</code></td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.ResultList" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.ResultList">ResultList</a></code> </td> <td> <div class=doc-md-description> <p>The result values View of the Statement.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.delete class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>delete</span><span class=p>(</span><span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Delete the Statement completely from the IR graph.</p> <details class=note open> <summary>Note</summary> <p>This method will detach + remove references of the Statement.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>safe</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If True, raise error if there is anything that still reference components in the Statement. Defaults to True.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Delete the Statement completely from the IR graph.</span>

<span class=sd>    Note:</span>
<span class=sd>        This method will detach + remove references of the Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        safe (bool, optional): If True, raise error if there is anything that still reference components in the Statement. Defaults to True.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>detach</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>:</span>
        <span class=n>result</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=n>safe</span><span class=o>=</span><span class=n>safe</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.detach class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">detach</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>detach</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>detach the statement from its parent block.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>detach</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;detach the statement from its parent block.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=n>parent</span><span class=p>:</span> <span class=n>Block</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span>
    <span class=n>prev_stmt</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>prev_stmt</span>
    <span class=n>next_stmt</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>next_stmt</span>

    <span class=k>if</span> <span class=n>prev_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>prev_stmt</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=n>next_stmt</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>assert</span> <span class=p>(</span>
            <span class=n>parent</span><span class=o>.</span><span class=n>_first_stmt</span> <span class=ow>is</span> <span class=bp>self</span>
        <span class=p>),</span> <span class=s2>&quot;Invalid statement, has no prev_stmt but not first_stmt&quot;</span>
        <span class=n>parent</span><span class=o>.</span><span class=n>_first_stmt</span> <span class=o>=</span> <span class=n>next_stmt</span>

    <span class=k>if</span> <span class=n>next_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>next_stmt</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=n>prev_stmt</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>assert</span> <span class=p>(</span>
            <span class=n>parent</span><span class=o>.</span><span class=n>_last_stmt</span> <span class=ow>is</span> <span class=bp>self</span>
        <span class=p>),</span> <span class=s2>&quot;Invalid statement, has no next_stmt but not last_stmt&quot;</span>
        <span class=n>parent</span><span class=o>.</span><span class=n>_last_stmt</span> <span class=o>=</span> <span class=n>prev_stmt</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>parent</span><span class=o>.</span><span class=n>_stmt_len</span> <span class=o>-=</span> <span class=mi>1</span>
    <span class=k>return</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.drop_all_references class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">drop_all_references</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>drop_all_references</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove all the dependency that reference/uses this Statement.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>drop_all_references</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove all the dependency that reference/uses this Statement.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>arg</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>):</span>
        <span class=n>arg</span><span class=o>.</span><span class=n>remove_use</span><span class=p>(</span><span class=n>Use</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>))</span>
    <span class=k>for</span> <span class=n>region</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_regions</span><span class=p>:</span>
        <span class=n>region</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.expect_one_result class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">expect_one_result</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>expect_one_result</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>ResultValue</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the statement contain only one result, and return it</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>expect_one_result</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ResultValue</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the statement contain only one result, and return it&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;expected one result, got </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.from_python_call class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">from_python_call</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>from_python_call</span><span class=p>(</span>
    <span class=n>state</span><span class=p>:</span> <span class=n>LoweringState</span><span class=p>,</span> <span class=n>node</span><span class=p>:</span> <span class=n>ast</span><span class=o>.</span><span class=n>Call</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Result</span>
</code></pre></div> <div class="doc doc-contents "> <p>Converts a Python call expression to a Kirin IR node.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>state</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.lowering.LoweringState" href="../reference/kirin/lowering/state/#kirin.lowering.state.LoweringState">LoweringState</a></code> </td> <td> <div class=doc-md-description> <p>The current state of the lowering process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>node</code> </td> <td> <code><span title="ast.Call">Call</span></code> </td> <td> <div class=doc-md-description> <p>The Python call expression to be converted.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>NotImplementedError</code> </td> <td> <div class=doc-md-description> <p>If the conversion is not implemented for the given call expression.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Result</code></td> <td> <code><span title="kirin.lowering.Result">Result</span></code> </td> <td> <div class=doc-md-description> <p>The converted Kirin IR node.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span> <span class=nf>from_python_call</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>state</span><span class=p>:</span> <span class=n>LoweringState</span><span class=p>,</span> <span class=n>node</span><span class=p>:</span> <span class=n>ast</span><span class=o>.</span><span class=n>Call</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Result</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Converts a Python call expression to a Kirin IR node.</span>

<span class=sd>    Args:</span>
<span class=sd>        state (LoweringState): The current state of the lowering process.</span>
<span class=sd>        node (ast.Call): The Python call expression to be converted.</span>

<span class=sd>    Raises:</span>
<span class=sd>        NotImplementedError: If the conversion is not implemented for the given call expression.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Result: The converted Kirin IR node.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>raise</span> <span class=ne>NotImplementedError</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.from_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">from_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>from_stmt</span><span class=p>(</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Statement</span><span class=p>,</span>
    <span class=n>args</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>regions</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Region</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>successors</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Block</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>attributes</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Attribute</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span>
</code></pre></div> <div class="doc doc-contents "> <p>Create a similar Statement with new <code>ResultValue</code> and without attaching to any parent block. This still references to the old successor and regions.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span> <span class=nf>from_stmt</span><span class=p>(</span>
    <span class=bp>cls</span><span class=p>,</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Statement</span><span class=p>,</span>
    <span class=n>args</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>regions</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Region</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>successors</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Block</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>attributes</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Attribute</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Self</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a similar Statement with new `ResultValue` and without</span>
<span class=sd>    attaching to any parent block. This still references to the old successor</span>
<span class=sd>    and regions.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>obj</span> <span class=o>=</span> <span class=bp>cls</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
    <span class=n>Statement</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span>
        <span class=n>obj</span><span class=p>,</span>
        <span class=n>args</span><span class=o>=</span><span class=n>args</span> <span class=ow>or</span> <span class=n>other</span><span class=o>.</span><span class=n>_args</span><span class=p>,</span>
        <span class=n>regions</span><span class=o>=</span><span class=n>regions</span> <span class=ow>or</span> <span class=n>other</span><span class=o>.</span><span class=n>_regions</span><span class=p>,</span>
        <span class=n>successors</span><span class=o>=</span><span class=n>successors</span> <span class=ow>or</span> <span class=n>other</span><span class=o>.</span><span class=n>successors</span><span class=p>,</span>
        <span class=n>attributes</span><span class=o>=</span><span class=n>attributes</span> <span class=ow>or</span> <span class=n>other</span><span class=o>.</span><span class=n>attributes</span><span class=p>,</span>
        <span class=n>properties</span><span class=o>=</span><span class=n>other</span><span class=o>.</span><span class=n>properties</span><span class=p>,</span>  <span class=c1># properties are immutable, thus no need to copy</span>
        <span class=n>result_types</span><span class=o>=</span><span class=p>[</span><span class=n>result</span><span class=o>.</span><span class=n>type</span> <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>other</span><span class=o>.</span><span class=n>_results</span><span class=p>],</span>
        <span class=n>args_slice</span><span class=o>=</span><span class=n>other</span><span class=o>.</span><span class=n>_name_args_slice</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=k>return</span> <span class=n>obj</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.get_attr_or_prop class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_attr_or_prop</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>get_attr_or_prop</span><span class=p>(</span><span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Attribute</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the attribute or property of the Statement.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>key</code> </td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The key of the attribute or property.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.attrs.Attribute" href="#kirin.ir.Attribute">Attribute</a> | None</code> </td> <td> <div class=doc-md-description> <p>Attribute | None: The attribute or property of the Statement.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>get_attr_or_prop</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Attribute</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the attribute or property of the Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        key (str): The key of the attribute or property.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Attribute | None: The attribute or property of the Statement.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>properties</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.get_trait class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_trait</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>get_trait</span><span class=p>(</span><span class=n>trait</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>TraitType</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>TraitType</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the trait of the Statement.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span>
<span class=normal>663</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span> <span class=nf>get_trait</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>trait</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>TraitType</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>TraitType</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the trait of the Statement.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>traits</span><span class=p>:</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>t</span><span class=p>,</span> <span class=n>trait</span><span class=p>):</span>
            <span class=k>return</span> <span class=n>t</span>
    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.has_trait class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">has_trait</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>has_trait</span><span class=p>(</span><span class=n>trait_type</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>StmtTrait</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the Statement has a specific trait.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>trait_type</code> </td> <td> <code>type[<a class="autorefs autorefs-internal" title="kirin.ir.traits.StmtTrait" href="../reference/kirin/ir/traits/#kirin.ir.traits.StmtTrait">StmtTrait</a>]</code> </td> <td> <div class=doc-md-description> <p>The type of trait to check for.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>True if the class has the specified trait, False otherwise.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span> <span class=nf>has_trait</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>trait_type</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>StmtTrait</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the Statement has a specific trait.</span>

<span class=sd>    Args:</span>
<span class=sd>        trait_type (type[StmtTrait]): The type of trait to check for.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if the class has the specified trait, False otherwise.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>trait</span> <span class=ow>in</span> <span class=bp>cls</span><span class=o>.</span><span class=n>traits</span><span class=p>:</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>trait</span><span class=p>,</span> <span class=n>trait_type</span><span class=p>):</span>
            <span class=k>return</span> <span class=kc>True</span>
    <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.insert_after class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">insert_after</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>insert_after</span><span class=p>(</span><span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Insert the current Statement after the input Statement.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stmt</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Input Statement.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <p>The following example demonstrates how to insert a Statement after another Statement. After <code>insert_after</code> is called, <code>stmt1</code> will be inserted after <code>stmt2</code>, which appears in IR in the order (stmt2 -&gt; stmt1) <div class=highlight><pre><span></span><code><span class=n>stmt1</span> <span class=o>=</span> <span class=n>Statement</span><span class=p>()</span>
<span class=n>stmt2</span> <span class=o>=</span> <span class=n>Statement</span><span class=p>()</span>
<span class=n>stmt1</span><span class=o>.</span><span class=n>insert_after</span><span class=p>(</span><span class=n>stmt2</span><span class=p>)</span>
</code></pre></div></p> </details> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>insert_after</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Insert the current Statement after the input Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        stmt (Statement): Input Statement.</span>

<span class=sd>    Example:</span>
<span class=sd>        The following example demonstrates how to insert a Statement after another Statement.</span>
<span class=sd>        After `insert_after` is called, `stmt1` will be inserted after `stmt2`, which appears in IR in the order (stmt2 -&gt; stmt1)</span>
<span class=sd>        ```python</span>
<span class=sd>        stmt1 = Statement()</span>
<span class=sd>        stmt2 = Statement()</span>
<span class=sd>        stmt1.insert_after(stmt2)</span>
<span class=sd>        ```</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;Cannot insert before a statement that is already in a block: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>stmt</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>_next_stmt</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=bp>self</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=n>stmt</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=n>stmt</span><span class=o>.</span><span class=n>_next_stmt</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>stmt</span><span class=o>.</span><span class=n>parent</span>
    <span class=n>stmt</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=bp>self</span>

    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_stmt_len</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_last_stmt</span> <span class=o>=</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.insert_before class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">insert_before</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>insert_before</span><span class=p>(</span><span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Insert the current Statement before the input Statement.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stmt</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Input Statement.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <p>The following example demonstrates how to insert a Statement before another Statement. After <code>insert_before</code> is called, <code>stmt1</code> will be inserted before <code>stmt2</code>, which appears in IR in the order (stmt1 -&gt; stmt2) <div class=highlight><pre><span></span><code><span class=n>stmt1</span> <span class=o>=</span> <span class=n>Statement</span><span class=p>()</span>
<span class=n>stmt2</span> <span class=o>=</span> <span class=n>Statement</span><span class=p>()</span>
<span class=n>stmt1</span><span class=o>.</span><span class=n>insert_before</span><span class=p>(</span><span class=n>stmt2</span><span class=p>)</span>
</code></pre></div></p> </details> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>insert_before</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Insert the current Statement before the input Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        stmt (Statement): Input Statement.</span>

<span class=sd>    Example:</span>
<span class=sd>        The following example demonstrates how to insert a Statement before another Statement.</span>
<span class=sd>        After `insert_before` is called, `stmt1` will be inserted before `stmt2`, which appears in IR in the order (stmt1 -&gt; stmt2)</span>
<span class=sd>        ```python</span>
<span class=sd>        stmt1 = Statement()</span>
<span class=sd>        stmt2 = Statement()</span>
<span class=sd>        stmt1.insert_before(stmt2)</span>
<span class=sd>        ```</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;Cannot insert before a statement that is already in a block: </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>stmt</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>_prev_stmt</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=bp>self</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_next_stmt</span> <span class=o>=</span> <span class=n>stmt</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=n>stmt</span><span class=o>.</span><span class=n>_prev_stmt</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=n>stmt</span><span class=o>.</span><span class=n>parent</span>
    <span class=n>stmt</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=o>=</span> <span class=bp>self</span>

    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_stmt_len</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_prev_stmt</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_first_stmt</span> <span class=o>=</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.is_structurally_equal class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_structurally_equal</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=p>(</span>
        <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span>
    <span class=p>)</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the Statement is structurally equal to another Statement.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>other</code> </td> <td> <code><span title="typing_extensions.Self">Self</span></code> </td> <td> <div class=doc-md-description> <p>The other Statelemt to compare with.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code>dict[<a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>, <a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>] | None</code> </td> <td> <div class=doc-md-description> <p>A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>True if the IRNode is structurally equal to the other.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the Statement is structurally equal to another Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        other (Self): The other Statelemt to compare with.</span>
<span class=sd>        context (dict[IRNode  |  SSAValue, IRNode  |  SSAValue] | None, optional): A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if the IRNode is structurally equal to the other.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>context</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>context</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>name</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>if</span> <span class=p>(</span>
        <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>args</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>args</span><span class=p>)</span>
        <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>regions</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>regions</span><span class=p>)</span>
        <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>successors</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>successors</span><span class=p>)</span>
        <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>attributes</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>attributes</span>
        <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>properties</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>properties</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>if</span> <span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
        <span class=ow>and</span> <span class=n>other</span><span class=o>.</span><span class=n>parent</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
        <span class=ow>and</span> <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>)</span> <span class=o>!=</span> <span class=n>other</span><span class=o>.</span><span class=n>parent</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
        <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>arg</span><span class=p>,</span> <span class=n>arg</span><span class=p>)</span> <span class=o>==</span> <span class=n>other_arg</span>
        <span class=k>for</span> <span class=n>arg</span><span class=p>,</span> <span class=n>other_arg</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>args</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>args</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
        <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>successor</span><span class=p>,</span> <span class=n>successor</span><span class=p>)</span> <span class=o>==</span> <span class=n>other_successor</span>
        <span class=k>for</span> <span class=n>successor</span><span class=p>,</span> <span class=n>other_successor</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>successors</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>successors</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
        <span class=n>region</span><span class=o>.</span><span class=n>is_structurally_equal</span><span class=p>(</span><span class=n>other_region</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>region</span><span class=p>,</span> <span class=n>other_region</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>regions</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>regions</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>for</span> <span class=n>result</span><span class=p>,</span> <span class=n>other_result</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>_results</span><span class=p>):</span>
        <span class=n>context</span><span class=p>[</span><span class=n>result</span><span class=p>]</span> <span class=o>=</span> <span class=n>other_result</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.replace_by class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">replace_by</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>replace_by</span><span class=p>(</span><span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Replace the current Statement by the input Statement.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stmt</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Input Statement.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>replace_by</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stmt</span><span class=p>:</span> <span class=n>Statement</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Replace the current Statement by the input Statement.</span>

<span class=sd>    Args:</span>
<span class=sd>        stmt (Statement): Input Statement.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>stmt</span><span class=o>.</span><span class=n>insert_before</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>result</span><span class=p>,</span> <span class=n>old_result</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>stmt</span><span class=o>.</span><span class=n>_results</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=p>):</span>
        <span class=n>old_result</span><span class=o>.</span><span class=n>replace_by</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>old_result</span><span class=o>.</span><span class=n>name</span><span class=p>:</span>
            <span class=n>result</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>old_result</span><span class=o>.</span><span class=n>name</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>delete</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.typecheck class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">typecheck</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>typecheck</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>check the type of the statement.</p> <details class=note open> <summary>Note</summary> <ol> <li>Statement should implement typecheck. this is done automatically via @statement, but in the case manualy implementation is needed, it should be implemented here.</li> <li>This API should be called after all the types are figured out (by typeinfer)</li> </ol> </details> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>typecheck</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;check the type of the statement.</span>

<span class=sd>    Note:</span>
<span class=sd>        1. Statement should implement typecheck.</span>
<span class=sd>        this is done automatically via @statement, but</span>
<span class=sd>        in the case manualy implementation is needed,</span>
<span class=sd>        it should be implemented here.</span>
<span class=sd>        2. This API should be called after all the types are figured out (by typeinfer)</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>raise</span> <span class=ne>NotImplementedError</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.verify class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">verify</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>verify</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>run mandatory validation checks. This is not same as typecheck, which may be optional.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>705</span>
<span class=normal>706</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>verify</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
    <span class=k>return</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Statement.walk class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">walk</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>walk</span><span class=p>(</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>include_self</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Traversal the Statements of Regions.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>reverse</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If walk in the reversed manner. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>region_first</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_self</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If the walk should include the Statement itself. Defaults to True.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Yields:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Iterator[Statement]: An iterator that yield Statements of Blocks in the Region, in the specified order.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/stmt.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>walk</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>include_self</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Traversal the Statements of Regions.</span>

<span class=sd>    Args:</span>
<span class=sd>        reverse (bool, optional): If walk in the reversed manner. Defaults to False.</span>
<span class=sd>        region_first (bool, optional): If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</span>
<span class=sd>        include_self (bool, optional): If the walk should include the Statement itself. Defaults to True.</span>

<span class=sd>    Yields:</span>
<span class=sd>        Iterator[Statement]: An iterator that yield Statements of Blocks in the Region, in the specified order.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>include_self</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>region_first</span><span class=p>:</span>
        <span class=k>yield</span> <span class=bp>self</span>

    <span class=k>for</span> <span class=n>region</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>regions</span><span class=p>)</span> <span class=k>if</span> <span class=n>reverse</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>regions</span><span class=p>:</span>
        <span class=k>yield from</span> <span class=n>region</span><span class=o>.</span><span class=n>walk</span><span class=p>(</span><span class=n>reverse</span><span class=o>=</span><span class=n>reverse</span><span class=p>,</span> <span class=n>region_first</span><span class=o>=</span><span class=n>region_first</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>include_self</span> <span class=ow>and</span> <span class=n>region_first</span><span class=p>:</span>
        <span class=k>yield</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=attributes>Attributes</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.Attribute></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><span title="abc.ABC">ABC</span></code>, <code><a class="autorefs autorefs-internal" title="kirin.print.Printable" href="../reference/kirin/print/printable/#kirin.print.printable.Printable">Printable</a></code></p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <a id=kirin.ir.TypeAttribute></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="kirin.ir.attrs.Attribute" href="#kirin.ir.Attribute">Attribute</a></code>, <code><a class="autorefs autorefs-internal" title="kirin.lattice.Lattice" href="../reference/kirin/lattice/#kirin.lattice.Lattice">Lattice</a>[&#39;TypeAttribute&#39;]</code></p> <div class="doc doc-children"> </div> </div> </div><h2 id=traits>Traits</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.StmtTrait></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><span title="abc.ABC">ABC</span></code></p> <p>Base class for all statement traits.</p> <div class="doc doc-children"> </div> </div> </div><h2 id=blocks>Blocks</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.Block></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a>[&#39;Region&#39;]</code></p> <p>Block consist of a list of Statements and optionally input arguments.</p> <pre><code>argtypes (Iterable[TypeAttribute], optional): The type of the block arguments. Defaults to ().
</code></pre> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>stmts</span><span class=p>:</span> <span class=n>Sequence</span><span class=p>[</span><span class=n>Statement</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>argtypes</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>TypeAttribute</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Args:</span>
<span class=sd>        stmts (Sequence[Statement], optional): A list of statements. Defaults to ().</span>
<span class=sd>        argtypes (Iterable[TypeAttribute], optional): The type of the block arguments. Defaults to ().</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_args</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span>
        <span class=n>BlockArgument</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>argtype</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>argtype</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>argtypes</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_first_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_last_stmt</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_first_branch</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_last_branch</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_stmt_len</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>stmts</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>args</span><span class=p>:</span> <span class=n>BlockArguments</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the arguments of the Block.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>BlockArguments</code></td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.BlockArguments" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.BlockArguments">BlockArguments</a></code> </td> <td> <div class=doc-md-description> <p>The arguments view of the Block.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.first_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">first_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>first_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the first Statement of the Block.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a> | None</code> </td> <td> <div class=doc-md-description> <p>Statement | None: The first Statement of the Block.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.last_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">last_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>last_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the last Statement of the Block.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a> | None</code> </td> <td> <div class=doc-md-description> <p>Statement | None: The last Statement of the Block.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.parent_node class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_node</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_node</span><span class=p>:</span> <span class=n>Region</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get parent Region of the Block.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.parent_stmt class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_stmt</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_stmt</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>parent statement of the Block.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Block.stmts class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">stmts</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>stmts</span><span class=p>:</span> <span class=n>BlockStmts</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the list of Statements of the Block.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>BlockStmts</code></td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.BlockStmts" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.BlockStmts">BlockStmts</a></code> </td> <td> <div class=doc-md-description> <p>The Statements of the Block.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.delete class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>delete</span><span class=p>(</span><span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Delete the Block completely from the IR.</p> <details class=note open> <summary>Note</summary> <p>This method will detach + remove references of the block.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>safe</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If True, raise error if there is anything that still reference components in the block. Defaults to True.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Delete the Block completely from the IR.</span>

<span class=sd>    Note:</span>
<span class=sd>        This method will detach + remove references of the block.</span>

<span class=sd>    Args:</span>
<span class=sd>        safe (bool, optional): If True, raise error if there is anything that still reference components in the block. Defaults to True.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>detach</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=n>safe</span><span class=o>=</span><span class=n>safe</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.detach class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">detach</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>detach</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Detach this Block from the IR.</p> <details class=note open> <summary>Note</summary> <p>Detach only detach the Block from the IR graph. It does not remove uses that reference the Block.</p> </details> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>detach</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Detach this Block from the IR.</span>

<span class=sd>    Note:</span>
<span class=sd>        Detach only detach the Block from the IR graph. It does not remove uses that reference the Block.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=n>idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>[</span><span class=bp>self</span><span class=p>]</span>
    <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_blocks</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
    <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_block_idx</span><span class=p>[</span><span class=bp>self</span><span class=p>]</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_blocks</span><span class=p>[</span><span class=n>idx</span><span class=p>:]:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=o>.</span><span class=n>_block_idx</span><span class=p>[</span><span class=n>block</span><span class=p>]</span> <span class=o>-=</span> <span class=mi>1</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.drop_all_references class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">drop_all_references</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>drop_all_references</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove all the dependency that reference/uses this Block.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>drop_all_references</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove all the dependency that reference/uses this Block.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.is_structurally_equal class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_structurally_equal</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=p>(</span>
        <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span>
    <span class=p>)</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the Block is structurally equal to another Block.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>other</code> </td> <td> <code><span title="typing_extensions.Self">Self</span></code> </td> <td> <div class=doc-md-description> <p>The other Block to compare with.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code>dict[<a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>, <a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>] | None</code> </td> <td> <div class=doc-md-description> <p>A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>True if the Block is structurally equal to the other Block.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the Block is structurally equal to another Block.</span>

<span class=sd>    Args:</span>
<span class=sd>        other (Self): The other Block to compare with.</span>
<span class=sd>        context (dict[IRNode  |  SSAValue, IRNode  |  SSAValue] | None, optional): A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if the Block is structurally equal to the other Block.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>context</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>context</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>_args</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>stmts</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>for</span> <span class=n>arg</span><span class=p>,</span> <span class=n>other_arg</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>_args</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>arg</span><span class=o>.</span><span class=n>type</span> <span class=o>!=</span> <span class=n>other_arg</span><span class=o>.</span><span class=n>type</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=n>context</span><span class=p>[</span><span class=n>arg</span><span class=p>]</span> <span class=o>=</span> <span class=n>other_arg</span>

    <span class=n>context</span><span class=p>[</span><span class=bp>self</span><span class=p>]</span> <span class=o>=</span> <span class=n>other</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>is_structurally_equal</span><span class=p>(</span><span class=n>other_stmt</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>stmt</span><span class=p>,</span> <span class=n>other_stmt</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>stmts</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.typecheck class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">typecheck</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>typecheck</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Checking the types of the Statments in the Block.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>typecheck</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Checking the types of the Statments in the Block.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>typecheck</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.verify class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">verify</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>verify</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Verify the correctness of the Block.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title="kirin.exceptions.VerificationError">VerificationError</span></code> </td> <td> <div class=doc-md-description> <p>If the Block is not correct.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>verify</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Verify the correctness of the Block.</span>

<span class=sd>    Raises:</span>
<span class=sd>        VerificationError: If the Block is not correct.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span> <span class=nn>kirin.ir.nodes.stmt</span> <span class=kn>import</span> <span class=n>Region</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parent</span><span class=p>,</span> <span class=n>Region</span><span class=p>):</span>
        <span class=k>raise</span> <span class=n>VerificationError</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=s2>&quot;Parent is not a region&quot;</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
        <span class=n>stmt</span><span class=o>.</span><span class=n>verify</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Block.walk class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">walk</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>walk</span><span class=p>(</span>
    <span class=o>*</span><span class=p>,</span> <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Traversal the Statements in a Block.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>reverse</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If walk in the reversed manner. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>region_first</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Yields:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Iterator[Statement]: An iterator that yield Statements in the Block in the specified order.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/block.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>walk</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Traversal the Statements in a Block.</span>

<span class=sd>    Args:</span>
<span class=sd>        reverse (bool, optional): If walk in the reversed manner. Defaults to False.</span>
<span class=sd>        region_first (bool, optional): If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</span>

<span class=sd>    Yields:</span>
<span class=sd>        Iterator[Statement]: An iterator that yield Statements in the Block in the specified order.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>)</span> <span class=k>if</span> <span class=n>reverse</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
        <span class=k>yield from</span> <span class=n>stmt</span><span class=o>.</span><span class=n>walk</span><span class=p>(</span><span class=n>reverse</span><span class=o>=</span><span class=n>reverse</span><span class=p>,</span> <span class=n>region_first</span><span class=o>=</span><span class=n>region_first</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><h2 id=regions>Regions</h2> <div class="doc doc-object doc-class"> <a id=kirin.ir.Region></a> <div class="doc doc-contents first"> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a>[&#39;Statement&#39;]</code></p> <p>Region consist of a list of Blocks</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>blocks</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.Block" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.Block">Block</a> | <span title="typing.Iterable">Iterable</span>[<a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.Block" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.Block">Block</a>]</code> </td> <td> <div class=doc-md-description> <p>A single <a class="autorefs autorefs-internal" href="#kirin.ir.Block"><code>Block</code></a> object or an iterable of Block objects. Defaults to ().</p> </div> </td> <td> <code>()</code> </td> </tr> <tr class=doc-section-item> <td> <code>parent</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a> | None</code> </td> <td> <div class=doc-md-description> <p>The parent <a class="autorefs autorefs-internal" href="#kirin.ir.Statement"><code>Statement</code></a> object. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>blocks</span><span class=p>:</span> <span class=n>Block</span> <span class=o>|</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Block</span><span class=p>]</span> <span class=o>=</span> <span class=p>(),</span>
    <span class=n>parent</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize a Region object.</span>

<span class=sd>    Args:</span>
<span class=sd>        blocks (Block | Iterable[Block], optional): A single [`Block`][kirin.ir.Block] object or an iterable of Block objects. Defaults to ().</span>
<span class=sd>        parent (Statement | None, optional): The parent [`Statement`][kirin.ir.Statement] object. Defaults to None.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_blocks</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_block_idx</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span> <span class=o>=</span> <span class=n>parent</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>blocks</span><span class=p>,</span> <span class=n>Block</span><span class=p>):</span>
        <span class=n>blocks</span> <span class=o>=</span> <span class=p>(</span><span class=n>blocks</span><span class=p>,)</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=n>blocks</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>block</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Region.blocks class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">blocks</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>blocks</span><span class=p>:</span> <span class=n>RegionBlocks</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the Blocks in the region.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>RegionBlocks</code></td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.region.RegionBlocks" href="../reference/kirin/ir/nodes/region/#kirin.ir.nodes.region.RegionBlocks">RegionBlocks</a></code> </td> <td> <div class=doc-md-description> <p>The blocks View object of the region.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Region.parent_node class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parent_node</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>parent_node</span><span class=p>:</span> <span class=n>Statement</span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the parent statement of the region.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=kirin.ir.Region.region_index class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">region_index</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>region_index</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the index of the region within the parent scope.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>int</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The index of the region within the parent scope.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.__getitem__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__getitem__</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=fm>__getitem__</span><span class=p>(</span><span class=nf>block</span><span class=p>:</span> <span class=n>Block</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get the index of a block within the region.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>block</code> </td> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.block.Block" href="../reference/kirin/ir/nodes/block/#kirin.ir.nodes.block.Block">Block</a></code> </td> <td> <div class=doc-md-description> <p>The block to get the index of.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ValueError</code> </td> <td> <div class=doc-md-description> <p>If the block does not belong to the region.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>int</code></td> <td> <code>int</code> </td> <td> <div class=doc-md-description> <p>The index of the block within the region.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>block</span><span class=p>:</span> <span class=n>Block</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get the index of a block within the region.</span>

<span class=sd>    Args:</span>
<span class=sd>        block (Block): The block to get the index of.</span>

<span class=sd>    Raises:</span>
<span class=sd>        ValueError: If the block does not belong to the region.</span>

<span class=sd>    Returns:</span>
<span class=sd>        int: The index of the block within the region.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>block</span><span class=o>.</span><span class=n>parent</span> <span class=ow>is</span> <span class=ow>not</span> <span class=bp>self</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Block does not belong to the region&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_block_idx</span><span class=p>[</span><span class=n>block</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.clone class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">clone</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>clone</span><span class=p>(</span>
    <span class=n>ssamap</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>SSAValue</span><span class=p>,</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Region</span>
</code></pre></div> <div class="doc doc-contents "> <p>Clone a region. This will clone all blocks and statements in the region. <code>SSAValue</code> defined outside the region will not be cloned unless provided in <code>ssamap</code>.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>clone</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>ssamap</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>SSAValue</span><span class=p>,</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Region</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Clone a region. This will clone all blocks and statements in the region.</span>
<span class=sd>    `SSAValue` defined outside the region will not be cloned unless provided in `ssamap`.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>ret</span> <span class=o>=</span> <span class=n>Region</span><span class=p>()</span>
    <span class=n>successor_map</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>Block</span><span class=p>,</span> <span class=n>Block</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=n>_ssamap</span> <span class=o>=</span> <span class=n>ssamap</span> <span class=ow>or</span> <span class=p>{}</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>:</span>
        <span class=n>new_block</span> <span class=o>=</span> <span class=n>Block</span><span class=p>()</span>
        <span class=n>ret</span><span class=o>.</span><span class=n>blocks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>new_block</span><span class=p>)</span>
        <span class=n>successor_map</span><span class=p>[</span><span class=n>block</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_block</span>
        <span class=k>for</span> <span class=n>arg</span> <span class=ow>in</span> <span class=n>block</span><span class=o>.</span><span class=n>args</span><span class=p>:</span>
            <span class=n>new_arg</span> <span class=o>=</span> <span class=n>new_block</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>append_from</span><span class=p>(</span><span class=n>arg</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=n>arg</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
            <span class=n>_ssamap</span><span class=p>[</span><span class=n>arg</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_arg</span>

    <span class=c1># update statements</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>stmt</span> <span class=ow>in</span> <span class=n>block</span><span class=o>.</span><span class=n>stmts</span><span class=p>:</span>
            <span class=n>new_stmt</span> <span class=o>=</span> <span class=n>stmt</span><span class=o>.</span><span class=n>from_stmt</span><span class=p>(</span>
                <span class=n>stmt</span><span class=p>,</span>
                <span class=n>args</span><span class=o>=</span><span class=p>[</span><span class=n>_ssamap</span><span class=p>[</span><span class=n>arg</span><span class=p>]</span> <span class=k>for</span> <span class=n>arg</span> <span class=ow>in</span> <span class=n>stmt</span><span class=o>.</span><span class=n>args</span><span class=p>],</span>
                <span class=n>regions</span><span class=o>=</span><span class=p>[</span><span class=n>region</span><span class=o>.</span><span class=n>clone</span><span class=p>(</span><span class=n>_ssamap</span><span class=p>)</span> <span class=k>for</span> <span class=n>region</span> <span class=ow>in</span> <span class=n>stmt</span><span class=o>.</span><span class=n>regions</span><span class=p>],</span>
                <span class=n>successors</span><span class=o>=</span><span class=p>[</span>
                    <span class=n>successor_map</span><span class=p>[</span><span class=n>successor</span><span class=p>]</span> <span class=k>for</span> <span class=n>successor</span> <span class=ow>in</span> <span class=n>stmt</span><span class=o>.</span><span class=n>successors</span>
                <span class=p>],</span>
            <span class=p>)</span>
            <span class=n>successor_map</span><span class=p>[</span><span class=n>block</span><span class=p>]</span><span class=o>.</span><span class=n>stmts</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>new_stmt</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>result</span><span class=p>,</span> <span class=n>new_result</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>stmt</span><span class=o>.</span><span class=n>results</span><span class=p>,</span> <span class=n>new_stmt</span><span class=o>.</span><span class=n>results</span><span class=p>):</span>
                <span class=n>_ssamap</span><span class=p>[</span><span class=n>result</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_result</span>

    <span class=k>return</span> <span class=n>ret</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.delete class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">delete</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>delete</span><span class=p>(</span><span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Delete the Region completely from the IR graph.</p> <details class=note open> <summary>Note</summary> <p>This method will detach + remove references of the Region.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>safe</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If True, raise error if there is anything that still reference components in the Region. Defaults to True.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>delete</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>safe</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Delete the Region completely from the IR graph.</span>

<span class=sd>    Note:</span>
<span class=sd>        This method will detach + remove references of the Region.</span>

<span class=sd>    Args:</span>
<span class=sd>        safe (bool, optional): If True, raise error if there is anything that still reference components in the Region. Defaults to True.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>detach</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.detach class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">detach</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>detach</span><span class=p>(</span><span class=n>index</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Detach this Region from the IR tree graph.</p> <details class=note open> <summary>Note</summary> <p>Detach only detach the Region from the IR graph. It does not remove uses that reference the Region.</p> </details> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>detach</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>index</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Detach this Region from the IR tree graph.</span>

<span class=sd>    Note:</span>
<span class=sd>        Detach only detach the Region from the IR graph. It does not remove uses that reference the Region.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># already detached</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=k>if</span> <span class=n>index</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>region_idx</span> <span class=o>=</span> <span class=n>index</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>region_idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>region_index</span>

    <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span><span class=o>.</span><span class=n>_regions</span><span class=p>[</span><span class=n>region_idx</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.drop_all_references class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">drop_all_references</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>drop_all_references</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Remove all the dependency that reference/uses this Region.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>drop_all_references</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove all the dependency that reference/uses this Region.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_blocks</span><span class=p>:</span>
        <span class=n>block</span><span class=o>.</span><span class=n>drop_all_references</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.is_structurally_equal class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">is_structurally_equal</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=p>(</span>
        <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span>
    <span class=p>)</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if the Region is structurally equal to another Region.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>other</code> </td> <td> <code><span title="typing_extensions.Self">Self</span></code> </td> <td> <div class=doc-md-description> <p>The other Region to compare with.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code>dict[<a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>, <a class="autorefs autorefs-internal" title="kirin.ir.nodes.base.IRNode" href="../reference/kirin/ir/nodes/base/#kirin.ir.nodes.base.IRNode">IRNode</a> | <a class="autorefs autorefs-internal" title="kirin.ir.ssa.SSAValue" href="../reference/kirin/ir/ssa/#kirin.ir.ssa.SSAValue">SSAValue</a>] | None</code> </td> <td> <div class=doc-md-description> <p>A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>True if the Region is structurally equal to the other Region.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>is_structurally_equal</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>other</span><span class=p>:</span> <span class=n>Self</span><span class=p>,</span>
    <span class=n>context</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>,</span> <span class=n>IRNode</span> <span class=o>|</span> <span class=n>SSAValue</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the Region is structurally equal to another Region.</span>

<span class=sd>    Args:</span>
<span class=sd>        other (Self): The other Region to compare with.</span>
<span class=sd>        context (dict[IRNode  |  SSAValue, IRNode  |  SSAValue] | None, optional): A map of IRNode/SSAValue to hint that they are equivalent so the check will treat them as equivalent. Defaults to None.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if the Region is structurally equal to the other Region.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>context</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>context</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>blocks</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>for</span> <span class=n>block</span><span class=p>,</span> <span class=n>other_block</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>blocks</span><span class=p>):</span>
        <span class=n>context</span><span class=p>[</span><span class=n>block</span><span class=p>]</span> <span class=o>=</span> <span class=n>other_block</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
        <span class=n>block</span><span class=o>.</span><span class=n>is_structurally_equal</span><span class=p>(</span><span class=n>other_block</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>block</span><span class=p>,</span> <span class=n>other_block</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>,</span> <span class=n>other</span><span class=o>.</span><span class=n>blocks</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.typecheck class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">typecheck</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>typecheck</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Checking the types of the Statments of Blocks in the Region.</p> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>typecheck</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Checking the types of the Statments of Blocks in the Region.&quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>:</span>
        <span class=n>block</span><span class=o>.</span><span class=n>typecheck</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.verify class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">verify</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>verify</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Verify the correctness of the Region.</p> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title="kirin.exceptions.VerificationError">VerificationError</span></code> </td> <td> <div class=doc-md-description> <p>If the Region is not correct.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>verify</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Verify the correctness of the Region.</span>

<span class=sd>    Raises:</span>
<span class=sd>        VerificationError: If the Region is not correct.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span> <span class=nn>kirin.ir.nodes.stmt</span> <span class=kn>import</span> <span class=n>Statement</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parent_node</span><span class=p>,</span> <span class=n>Statement</span><span class=p>):</span>
        <span class=k>raise</span> <span class=n>VerificationError</span><span class=p>(</span>
            <span class=bp>self</span><span class=p>,</span> <span class=s2>&quot;expect Region to have a parent of type Statement&quot;</span>
        <span class=p>)</span>

    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>:</span>
        <span class=n>block</span><span class=o>.</span><span class=n>verify</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=kirin.ir.Region.walk class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">walk</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>walk</span><span class=p>(</span>
    <span class=o>*</span><span class=p>,</span> <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Traversal the Statements of Blocks in the Region.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>reverse</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If walk in the reversed manner. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>region_first</code> </td> <td> <code>bool</code> </td> <td> <div class=doc-md-description> <p>If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Yields:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title="kirin.ir.nodes.stmt.Statement" href="../reference/kirin/ir/nodes/stmt/#kirin.ir.nodes.stmt.Statement">Statement</a></code> </td> <td> <div class=doc-md-description> <p>Iterator[Statement]: An iterator that yield Statements of Blocks in the Region, in the specified order.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>src/kirin/ir/nodes/region.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>walk</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>reverse</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span> <span class=n>region_first</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Iterator</span><span class=p>[</span><span class=n>Statement</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Traversal the Statements of Blocks in the Region.</span>

<span class=sd>    Args:</span>
<span class=sd>        reverse (bool, optional): If walk in the reversed manner. Defaults to False.</span>
<span class=sd>        region_first (bool, optional): If the walk should go through the Statement first or the Region of a Statement first. Defaults to False.</span>

<span class=sd>    Yields:</span>
<span class=sd>        Iterator[Statement]: An iterator that yield Statements of Blocks in the Region, in the specified order.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>block</span> <span class=ow>in</span> <span class=nb>reversed</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>)</span> <span class=k>if</span> <span class=n>reverse</span> <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>blocks</span><span class=p>:</span>
        <span class=k>yield from</span> <span class=n>block</span><span class=o>.</span><span class=n>walk</span><span class=p>(</span><span class=n>reverse</span><span class=o>=</span><span class=n>reverse</span><span class=p>,</span> <span class=n>region_first</span><span class=o>=</span><span class=n>region_first</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../install/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Installation </div> </div> </a> <a href=../101/ class="md-footer__link md-footer__link--next" aria-label="Next: Compiler 101"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Compiler 101 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Kirin contributors </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://x.com/QueraComputing target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg> </a> <a href=https://www.linkedin.com/company/quera-computing-inc/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.06 2.06 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065m1.782 13.019H3.555V9h3.564zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.view", "content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.footer", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.83f73b43.min.js></script> </body> </html>